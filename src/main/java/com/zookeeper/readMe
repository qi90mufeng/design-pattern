zookeeper的事件机制

连接状态：

事件：
NodeDataChanged
NodeCreated
NodeChildrenChanged
NodeDeleted
None


ClientCnxn
SendThread
Packet

RequestProcessor
FinalRequestProcessor

ServerCnxn

ZooKeeper

ZKDatabase

watcher核心原理

看源码要在知道做了哪些事再去看会比较好点
比如你自己写的业务代码，你自己是熟悉的，
但是别人来看就不太看得懂，一个道理，

------------------------------------------------------------------------------------------------------------------------
通过zookeeper原生api实现分布式锁
分析curator实现分布式锁的原理
实现带注册中心的rpc框架


zookpper   redis  数据库
惊群效应  羊群效应

利用有序临时节点来实现分布式锁
